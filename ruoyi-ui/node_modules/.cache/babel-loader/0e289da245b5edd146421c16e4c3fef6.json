{"remainingRequest":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue","mtime":1698505870657},{"path":"G:\\wb-vision-server\\ruoyi-ui\\babel.config.js","mtime":1679144980000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJHOi93Yi12aXNpb24tc2VydmVyL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIik7CnZhciBfQU1hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQU1hcCIpKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBjb250ZW50ID0gWyI8ZGl2IHN0eWxlPSdmb250LXNpemU6IDE0cHg7IGNvbG9yOiBibHVlOyB3aWR0aDogMjAwcHg7IGhlaWdodDogNTBweCc+5beo5rqQ56eR5oqAPC9kaXY+Il07CgovL+iOt+WPluW9k+WJjeS9jee9rgp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2FsdGlvbjogIiIsCiAgICAgIG1hcDogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g5Yib5bu65Zyw5Zu+5a6e5L6LCiAgICB2YXIgbWFwID0gbmV3IF9BTWFwLmRlZmF1bHQuTWFwKCJjb250YWluZXIiLCB7CiAgICAgIHZpZXdNb2RlOiAnM0QnLAogICAgICAvL+m7mOiupOS9v+eUqDJE5qih5byPCiAgICAgIHpvb206IDEyLAogICAgICBjZW50ZXI6IFsxMDQuMDcwNzgzNDYwMDgzMDIsIDMwLjU3NDI0ODg1MTkyMjY1XSwKICAgICAgcmVzaXplRW5hYmxlOiB0cnVlCiAgICB9KTsKCiAgICAvL+iuvue9ruWbvuWxggogICAgdmFyIHRyYWZmaWMgPSBuZXcgX0FNYXAuZGVmYXVsdC5UaWxlTGF5ZXIuVHJhZmZpYyh7CiAgICAgICdhdXRvUmVmcmVzaCc6IHRydWUsCiAgICAgIC8v5piv5ZCm6Ieq5Yqo5Yi35paw77yM6buY6K6k5Li6ZmFsc2UKICAgICAgJ2ludGVydmFsJzogNjAgLy/liLfmlrDpl7TpmpTvvIzpu5jorqQxODBzCiAgICB9KTsKCiAgICBtYXAuYWRkKHRyYWZmaWMpOyAvL+mAmui/h2FkZOaWueazlea3u+WKoOWbvuWxggoKICAgIC8vIOWIm+W7uuS4gOS4qk1hcmtlcuWunuS+iwogICAgdmFyIG1hcmtlciA9IG5ldyBfQU1hcC5kZWZhdWx0Lk1hcmtlcih7CiAgICAgIHBvc2l0aW9uOiBuZXcgX0FNYXAuZGVmYXVsdC5MbmdMYXQoMTA0LjAzOTY4MDU2NDM0NjMzLCAzMC42NjkxNDI0MzU4KSwKICAgICAgLy8g57uP57qs5bqm5a+56LGh77yM5Lmf5Y+v5Lul5piv57uP57qs5bqm5p6E5oiQ55qE5LiA57u05pWw57uEWzExNi4zOSwgMzkuOV0KICAgICAgdGl0bGU6ICflt6jmupDnp5HmioAnCiAgICB9KTsKICAgIC8vIOWwhuWIm+W7uueahOeCueagh+iusOa3u+WKoOWIsOW3suacieeahOWcsOWbvuWunuS+iwogICAgbWFwLmFkZChtYXJrZXIpOwogICAgdGhpcy5nZXRHZW9Mb2NhbHRpb24oKTsKICB9LAogIG5hbWU6ICJBTWFwIiwKICBtZXRob2RzOiB7CiAgICBnZXRHZW9Mb2NhbHRpb246IGZ1bmN0aW9uIGdldEdlb0xvY2FsdGlvbigpIHsKICAgICAgX0FNYXAuZGVmYXVsdC5wbHVnaW4oJ0FNYXAuR2VvbG9jYXRpb24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGdlb2xvY2F0aW9uID0gbmV3IF9BTWFwLmRlZmF1bHQuR2VvbG9jYXRpb24oewogICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLAogICAgICAgICAgLy/mmK/lkKbkvb/nlKjpq5jnsr7luqblrprkvY3vvIzpu5jorqQ6dHJ1ZQogICAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgICAvL+i2hei/hzEw56eS5ZCO5YGc5q2i5a6a5L2N77yM6buY6K6k77yaNXMKICAgICAgICAgIGJ1dHRvblBvc2l0aW9uOiAnUkInLAogICAgICAgICAgLy/lrprkvY3mjInpkq7nmoTlgZzpnaDkvY3nva4KICAgICAgICAgIGJ1dHRvbk9mZnNldDogbmV3IF9BTWFwLmRlZmF1bHQuUGl4ZWwoMTAsIDIwKSwKICAgICAgICAgIC8v5a6a5L2N5oyJ6ZKu5LiO6K6+572u55qE5YGc6Z2g5L2N572u55qE5YGP56e76YeP77yM6buY6K6k77yaUGl4ZWwoMTAsIDIwKQogICAgICAgICAgem9vbVRvQWNjdXJhY3k6IHRydWUgLy/lrprkvY3miJDlip/lkI7mmK/lkKboh6rliqjosIPmlbTlnLDlm77op4bph47liLDlrprkvY3ngrkKICAgICAgICB9KTsKCiAgICAgICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChzdGF0dXMsIHJlc3VsdCkgewogICAgICAgICAgaWYgKHN0YXR1cyA9PSAnY29tcGxldGUnKSB7CiAgICAgICAgICAgIHRoaXMubWFwLmFkZChyZXN1bHQucG9zaXRpb24ucG9zWzBdLCByZXN1bHQucG9zaXRpb24ucG9zWzFdKTsKICAgICAgICAgICAgb25Db21wbGV0ZShyZXN1bHQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb25FcnJvcihyZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgLy/op6PmnpDlrprkvY3nu5PmnpwKICAgICAgZnVuY3Rpb24gb25Db21wbGV0ZShkYXRhKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpLmlubmVySFRNTCA9ICflrprkvY3miJDlip8nOwogICAgICAgIHZhciBzdHIgPSBbXTsKICAgICAgICBzdHIucHVzaCgn5a6a5L2N57uT5p6c77yaJyArIGRhdGEucG9zaXRpb24pOwogICAgICAgIHN0ci5wdXNoKCflrprkvY3nsbvliKvvvJonICsgZGF0YS5sb2NhdGlvbl90eXBlKTsKICAgICAgICBpZiAoZGF0YS5hY2N1cmFjeSkgewogICAgICAgICAgc3RyLnB1c2goJ+eyvuW6pu+8micgKyBkYXRhLmFjY3VyYWN5ICsgJyDnsbMnKTsKICAgICAgICB9IC8v5aaC5Li6SVDnsr7noa7lrprkvY3nu5PmnpzliJnmsqHmnInnsr7luqbkv6Hmga8KICAgICAgICBzdHIucHVzaCgn5piv5ZCm57uP6L+H5YGP56e777yaJyArIChkYXRhLmlzQ29udmVydGVkID8gJ+aYrycgOiAn5ZCmJykpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHQnKS5pbm5lckhUTUwgPSBzdHIuam9pbignPGJyPicpOwogICAgICB9CiAgICAgIC8v6Kej5p6Q5a6a5L2N6ZSZ6K+v5L+h5oGvCiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKS5pbm5lckhUTUwgPSAn5a6a5L2N5aSx6LSlJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0JykuaW5uZXJIVE1MID0gJ+Wksei0peWOn+WboOaOkuafpeS/oeaBrzonICsgZGF0YS5tZXNzYWdlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_AMap","_interopRequireDefault","require","content","_default","exports","default","data","localtion","map","mounted","AMap","Map","viewMode","zoom","center","resizeEnable","traffic","TileLayer","Traffic","add","marker","Marker","position","LngLat","title","getGeoLocaltion","name","methods","plugin","geolocation","Geolocation","enableHighAccuracy","timeout","buttonPosition","buttonOffset","Pixel","zoomToAccuracy","getCurrentPosition","status","result","pos","onComplete","onError","document","getElementById","innerHTML","str","push","location_type","accuracy","isConverted","join","message"],"sources":["src/views/system/map/index.vue"],"sourcesContent":["<template>\r\n    <div id=\"container\"  style=\"width: 100%; height: calc(100vh - 100px)\">\r\n      <div class=\"info\">\r\n        <h4 id='status'></h4><hr>\r\n        <p id='result'></p><hr>\r\n      </div>\r\n      <el-button type=\"primary\" @click=\"this.map.getBounds()\" style=\"margin-bottom: 0;margin-right: 10px\" size=\"big\">回归原位</el-button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport AMap from \"AMap\"\r\nvar content = [\r\n  \"<div style='font-size: 14px; color: blue; width: 200px; height: 50px'>巨源科技</div>\"\r\n];\r\n\r\n//获取当前位置\r\nexport default {\r\n  data(){\r\n    return{\r\n      localtion:\"\",\r\n      map:\"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    // 创建地图实例\r\n    var map = new AMap.Map(\"container\", {\r\n      viewMode: '3D',   //默认使用2D模式\r\n      zoom: 12,\r\n      center: [104.07078346008302, 30.57424885192265],\r\n      resizeEnable: true\r\n    });\r\n\r\n    //设置图层\r\n    const traffic = new AMap.TileLayer.Traffic({\r\n      'autoRefresh': true,     //是否自动刷新，默认为false\r\n      'interval': 60,         //刷新间隔，默认180s\r\n    });\r\n    map.add(traffic); //通过add方法添加图层\r\n\r\n\r\n    // 创建一个Marker实例\r\n    var marker = new AMap.Marker({\r\n      position: new AMap.LngLat(104.03968056434633, 30.6691424358),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\r\n      title: '巨源科技',\r\n    });\r\n    // 将创建的点标记添加到已有的地图实例\r\n    map.add(marker);\r\nthis.getGeoLocaltion();\r\n  },\r\n  name: \"AMap\",\r\n\r\n\r\n  methods: {\r\n    getGeoLocaltion() {\r\n      AMap.plugin('AMap.Geolocation', function() {\r\n        var geolocation = new AMap.Geolocation({\r\n          enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n          timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n          buttonPosition:'RB',    //定位按钮的停靠位置\r\n          buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n          zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n        });\r\n        geolocation.getCurrentPosition(function(status,result){\r\n          if(status=='complete'){\r\n            this.map.add(result.position.pos[0],result.position.pos[1])\r\n            onComplete(result)\r\n          }else{\r\n            onError(result)\r\n          }\r\n        });\r\n      });\r\n      //解析定位结果\r\n      function onComplete(data) {\r\n        document.getElementById('status').innerHTML='定位成功'\r\n        var str = [];\r\n        str.push('定位结果：' + data.position);\r\n        str.push('定位类别：' + data.location_type);\r\n        if(data.accuracy){\r\n          str.push('精度：' + data.accuracy + ' 米');\r\n        }//如为IP精确定位结果则没有精度信息\r\n        str.push('是否经过偏移：' + (data.isConverted ? '是' : '否'));\r\n        document.getElementById('result').innerHTML = str.join('<br>');\r\n      }\r\n      //解析定位错误信息\r\n      function onError(data) {\r\n        document.getElementById('status').innerHTML='定位失败'\r\n        document.getElementById('result').innerHTML = '失败原因排查信息:'+data.message;\r\n      }\r\n    },\r\n  }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;;;;;;;AAUA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;;;;;;;;;;;AACA,IAAAC,OAAA,IACA,mFACA;;AAEA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,GAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA;IACA,IAAAD,GAAA,OAAAE,aAAA,CAAAC,GAAA;MACAC,QAAA;MAAA;MACAC,IAAA;MACAC,MAAA;MACAC,YAAA;IACA;;IAEA;IACA,IAAAC,OAAA,OAAAN,aAAA,CAAAO,SAAA,CAAAC,OAAA;MACA;MAAA;MACA;IACA;;IACAV,GAAA,CAAAW,GAAA,CAAAH,OAAA;;IAGA;IACA,IAAAI,MAAA,OAAAV,aAAA,CAAAW,MAAA;MACAC,QAAA,MAAAZ,aAAA,CAAAa,MAAA;MAAA;MACAC,KAAA;IACA;IACA;IACAhB,GAAA,CAAAW,GAAA,CAAAC,MAAA;IACA,KAAAK,eAAA;EACA;EACAC,IAAA;EAGAC,OAAA;IACAF,eAAA,WAAAA,gBAAA;MACAf,aAAA,CAAAkB,MAAA;QACA,IAAAC,WAAA,OAAAnB,aAAA,CAAAoB,WAAA;UACAC,kBAAA;UAAA;UACAC,OAAA;UAAA;UACAC,cAAA;UAAA;UACAC,YAAA,MAAAxB,aAAA,CAAAyB,KAAA;UAAA;UACAC,cAAA;QACA;;QACAP,WAAA,CAAAQ,kBAAA,WAAAC,MAAA,EAAAC,MAAA;UACA,IAAAD,MAAA;YACA,KAAA9B,GAAA,CAAAW,GAAA,CAAAoB,MAAA,CAAAjB,QAAA,CAAAkB,GAAA,KAAAD,MAAA,CAAAjB,QAAA,CAAAkB,GAAA;YACAC,UAAA,CAAAF,MAAA;UACA;YACAG,OAAA,CAAAH,MAAA;UACA;QACA;MACA;MACA;MACA,SAAAE,WAAAnC,IAAA;QACAqC,QAAA,CAAAC,cAAA,WAAAC,SAAA;QACA,IAAAC,GAAA;QACAA,GAAA,CAAAC,IAAA,WAAAzC,IAAA,CAAAgB,QAAA;QACAwB,GAAA,CAAAC,IAAA,WAAAzC,IAAA,CAAA0C,aAAA;QACA,IAAA1C,IAAA,CAAA2C,QAAA;UACAH,GAAA,CAAAC,IAAA,SAAAzC,IAAA,CAAA2C,QAAA;QACA;QACAH,GAAA,CAAAC,IAAA,cAAAzC,IAAA,CAAA4C,WAAA;QACAP,QAAA,CAAAC,cAAA,WAAAC,SAAA,GAAAC,GAAA,CAAAK,IAAA;MACA;MACA;MACA,SAAAT,QAAApC,IAAA;QACAqC,QAAA,CAAAC,cAAA,WAAAC,SAAA;QACAF,QAAA,CAAAC,cAAA,WAAAC,SAAA,iBAAAvC,IAAA,CAAA8C,OAAA;MACA;IACA;EACA;AAEA"}]}