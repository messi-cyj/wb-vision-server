{"remainingRequest":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue","mtime":1698551790945},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQU1hcCBmcm9tICJBTWFwIg0KDQpsZXQgY29udGVudCA9IFsNCiAgIjxkaXYgc3R5bGU9J2ZvbnQtc2l6ZTogMTRweDsgY29sb3I6IGJsdWU7IHdpZHRoOiAyMDBweDsgaGVpZ2h0OiA1MHB4Jz7lt6jmupDnp5HmioA8L2Rpdj4iDQpdOw0KDQovL+iOt+WPluW9k+WJjeS9jee9rg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXA6ICIiLA0KICAgICAgbWFya2VyMToiIiwNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gdGhpcy5jcmVhdGVkTWFwKCk7DQogICAgLy8gdGhpcy5nZXRMb2NhdGlvbigpOw0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY3JlYXRlZE1hcCgpOw0KICAgIHRoaXMuZ2V0TG9jYXRpb24oKTsNCiAgfSwNCiAgbmFtZTogIkFNYXAiLA0KICBtZXRob2RzOg0KICAgIHsNCiAgICAgIGNyZWF0ZWRNYXAoKSB7DQogICAgICAgIHRoaXMubWFwID0gbmV3IEFNYXAuTWFwKCJjb250YWluZXIiLCB7DQogICAgICAgICAgdmlld01vZGU6ICczRCcsICAgLy/pu5jorqTkvb/nlKgyROaooeW8jw0KICAgICAgICAgIHpvb206IDEyLA0KICAgICAgICAgIGNlbnRlcjogWzEwNC4wNzA3ODM0NjAwODMwMiwgMzAuNTc0MjQ4ODUxOTIyNjVdLA0KICAgICAgICAgIHJlc2l6ZUVuYWJsZTogdHJ1ZQ0KICAgICAgICB9KTsNCiAgICAgICAgY29uc3QgdHJhZmZpYyA9IG5ldyBBTWFwLlRpbGVMYXllci5UcmFmZmljKHsNCiAgICAgICAgICAnYXV0b1JlZnJlc2gnOiB0cnVlLCAgICAgLy/mmK/lkKboh6rliqjliLfmlrDvvIzpu5jorqTkuLpmYWxzZQ0KICAgICAgICAgICdpbnRlcnZhbCc6IDYwLCAgICAgICAgIC8v5Yi35paw6Ze06ZqU77yM6buY6K6kMTgwcw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5tYXAuYWRkKHRyYWZmaWMpOyAvL+mAmui/h2FkZOaWueazlea3u+WKoOWbvuWxgg0KICAgICAgfSwNCiAgICAgIGdldExvY2F0aW9uKCkgew0KICAgICAgICBsZXQgX3RoaXMgPSB0aGlzDQogICAgICAgIEFNYXAucGx1Z2luKCdBTWFwLkdlb2xvY2F0aW9uJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgIGxldCBnZW9sb2NhdGlvbiA9IG5ldyBBTWFwLkdlb2xvY2F0aW9uKHsNCiAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSwvL+aYr+WQpuS9v+eUqOmrmOeyvuW6puWumuS9je+8jOm7mOiupDp0cnVlDQogICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCwgICAgICAgICAgLy/otoXov4cxMOenkuWQjuWBnOatouWumuS9je+8jOm7mOiupO+8mjVzDQogICAgICAgICAgICBidXR0b25Qb3NpdGlvbjogJ1JCJywgICAgLy/lrprkvY3mjInpkq7nmoTlgZzpnaDkvY3nva4NCiAgICAgICAgICAgIGJ1dHRvbk9mZnNldDogbmV3IEFNYXAuUGl4ZWwoMTAsIDIwKSwvL+WumuS9jeaMiemSruS4juiuvue9rueahOWBnOmdoOS9jee9rueahOWBj+enu+mHj++8jOm7mOiupO+8mlBpeGVsKDEwLCAyMCkNCiAgICAgICAgICAgIHpvb21Ub0FjY3VyYWN5OiB0cnVlLCAgIC8v5a6a5L2N5oiQ5Yqf5ZCO5piv5ZCm6Ieq5Yqo6LCD5pW05Zyw5Zu+6KeG6YeO5Yiw5a6a5L2N54K5DQogICAgICAgICAgfSk7DQogICAgICAgICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChzdGF0dXMsIHJlc3VsdCkgew0KICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlJykgew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpDQogICAgICAgICAgICAgIC8vIG1hcC5hZGQocmVzdWx0LnBvc2l0aW9uLnBvc1swXSxyZXN1bHQucG9zaXRpb24ucG9zWzFdKQ0KICAgICAgICAgICAgICBfdGhpcy5tYXJrZXIxID0gbmV3IEFNYXAuTWFya2VyKHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IEFNYXAuTG5nTGF0KHJlc3VsdC5wb3NpdGlvbi5sbmcsIHJlc3VsdC5wb3NpdGlvbi5sYXQpLA0KICAgICAgICAgICAgICAgIHRpdGxlOiAn5beo5rqQ56eR5oqAJw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBfdGhpcy5tYXAuYWRkKF90aGlzLm1hcmtlcjEpDQogICAgICAgICAgICAgIF90aGlzLm1hcC5zZXRDZW50ZXIoW3Jlc3VsdC5wb3NpdGlvbi5sbmcscmVzdWx0LnBvc2l0aW9uLmxhdF0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgIHJldHVybkxvY2F0aW9uKCkgew0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1hcmtlcjEpDQogICAgICAgIHRoaXMubWFwLnNldENlbnRlcihbdGhpcy5tYXJrZXIxLnBvc2l0aW9uLmxuZyx0aGlzLm1hcmtlcjEucG9zaXRpb24ubGF0XSkNCiAgICAgIH0NCiAgICB9DQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/map","sourcesContent":["<template>\r\n  <div id=\"container\" style=\"width: 100%; height: calc(100vh - 100px)\">\r\n    <div class=\"info\">\r\n      <button @click=\"returnLocation\">回归原位</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AMap from \"AMap\"\r\n\r\nlet content = [\r\n  \"<div style='font-size: 14px; color: blue; width: 200px; height: 50px'>巨源科技</div>\"\r\n];\r\n\r\n//获取当前位置\r\nexport default {\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      marker1:\"\",\r\n    }\r\n  },\r\n  created() {\r\n    // this.createdMap();\r\n    // this.getLocation();\r\n  },\r\n  mounted() {\r\n    this.createdMap();\r\n    this.getLocation();\r\n  },\r\n  name: \"AMap\",\r\n  methods:\r\n    {\r\n      createdMap() {\r\n        this.map = new AMap.Map(\"container\", {\r\n          viewMode: '3D',   //默认使用2D模式\r\n          zoom: 12,\r\n          center: [104.07078346008302, 30.57424885192265],\r\n          resizeEnable: true\r\n        });\r\n        const traffic = new AMap.TileLayer.Traffic({\r\n          'autoRefresh': true,     //是否自动刷新，默认为false\r\n          'interval': 60,         //刷新间隔，默认180s\r\n        });\r\n        this.map.add(traffic); //通过add方法添加图层\r\n      },\r\n      getLocation() {\r\n        let _this = this\r\n        AMap.plugin('AMap.Geolocation', function () {\r\n          let geolocation = new AMap.Geolocation({\r\n            enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n            timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n            buttonPosition: 'RB',    //定位按钮的停靠位置\r\n            buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n            zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n          });\r\n          geolocation.getCurrentPosition(function (status, result) {\r\n            if (status === 'complete') {\r\n              console.log(result)\r\n              // map.add(result.position.pos[0],result.position.pos[1])\r\n              _this.marker1 = new AMap.Marker({\r\n                position: new AMap.LngLat(result.position.lng, result.position.lat),\r\n                title: '巨源科技'\r\n              })\r\n              _this.map.add(_this.marker1)\r\n              _this.map.setCenter([result.position.lng,result.position.lat])\r\n            } else {\r\n              console.log(result)\r\n            }\r\n          });\r\n        });\r\n      },\r\n      returnLocation() {\r\n        console.log(this.marker1)\r\n        this.map.setCenter([this.marker1.position.lng,this.marker1.position.lat])\r\n      }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}