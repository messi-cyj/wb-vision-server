{"remainingRequest":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue","mtime":1698505870657},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQU1hcCBmcm9tICJBTWFwIg0KdmFyIGNvbnRlbnQgPSBbDQogICI8ZGl2IHN0eWxlPSdmb250LXNpemU6IDE0cHg7IGNvbG9yOiBibHVlOyB3aWR0aDogMjAwcHg7IGhlaWdodDogNTBweCc+5beo5rqQ56eR5oqAPC9kaXY+Ig0KXTsNCg0KLy/ojrflj5blvZPliY3kvY3nva4NCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIGxvY2FsdGlvbjoiIiwNCiAgICAgIG1hcDoiIg0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyDliJvlu7rlnLDlm77lrp7kvosNCiAgICB2YXIgbWFwID0gbmV3IEFNYXAuTWFwKCJjb250YWluZXIiLCB7DQogICAgICB2aWV3TW9kZTogJzNEJywgICAvL+m7mOiupOS9v+eUqDJE5qih5byPDQogICAgICB6b29tOiAxMiwNCiAgICAgIGNlbnRlcjogWzEwNC4wNzA3ODM0NjAwODMwMiwgMzAuNTc0MjQ4ODUxOTIyNjVdLA0KICAgICAgcmVzaXplRW5hYmxlOiB0cnVlDQogICAgfSk7DQoNCiAgICAvL+iuvue9ruWbvuWxgg0KICAgIGNvbnN0IHRyYWZmaWMgPSBuZXcgQU1hcC5UaWxlTGF5ZXIuVHJhZmZpYyh7DQogICAgICAnYXV0b1JlZnJlc2gnOiB0cnVlLCAgICAgLy/mmK/lkKboh6rliqjliLfmlrDvvIzpu5jorqTkuLpmYWxzZQ0KICAgICAgJ2ludGVydmFsJzogNjAsICAgICAgICAgLy/liLfmlrDpl7TpmpTvvIzpu5jorqQxODBzDQogICAgfSk7DQogICAgbWFwLmFkZCh0cmFmZmljKTsgLy/pgJrov4dhZGTmlrnms5Xmt7vliqDlm77lsYINCg0KDQogICAgLy8g5Yib5bu65LiA5LiqTWFya2Vy5a6e5L6LDQogICAgdmFyIG1hcmtlciA9IG5ldyBBTWFwLk1hcmtlcih7DQogICAgICBwb3NpdGlvbjogbmV3IEFNYXAuTG5nTGF0KDEwNC4wMzk2ODA1NjQzNDYzMywgMzAuNjY5MTQyNDM1OCksICAgLy8g57uP57qs5bqm5a+56LGh77yM5Lmf5Y+v5Lul5piv57uP57qs5bqm5p6E5oiQ55qE5LiA57u05pWw57uEWzExNi4zOSwgMzkuOV0NCiAgICAgIHRpdGxlOiAn5beo5rqQ56eR5oqAJywNCiAgICB9KTsNCiAgICAvLyDlsIbliJvlu7rnmoTngrnmoIforrDmt7vliqDliLDlt7LmnInnmoTlnLDlm77lrp7kvosNCiAgICBtYXAuYWRkKG1hcmtlcik7DQp0aGlzLmdldEdlb0xvY2FsdGlvbigpOw0KICB9LA0KICBuYW1lOiAiQU1hcCIsDQoNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0R2VvTG9jYWx0aW9uKCkgew0KICAgICAgQU1hcC5wbHVnaW4oJ0FNYXAuR2VvbG9jYXRpb24nLCBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIGdlb2xvY2F0aW9uID0gbmV3IEFNYXAuR2VvbG9jYXRpb24oew0KICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSwvL+aYr+WQpuS9v+eUqOmrmOeyvuW6puWumuS9je+8jOm7mOiupDp0cnVlDQogICAgICAgICAgdGltZW91dDogMTAwMDAsICAgICAgICAgIC8v6LaF6L+HMTDnp5LlkI7lgZzmraLlrprkvY3vvIzpu5jorqTvvJo1cw0KICAgICAgICAgIGJ1dHRvblBvc2l0aW9uOidSQicsICAgIC8v5a6a5L2N5oyJ6ZKu55qE5YGc6Z2g5L2N572uDQogICAgICAgICAgYnV0dG9uT2Zmc2V0OiBuZXcgQU1hcC5QaXhlbCgxMCwgMjApLC8v5a6a5L2N5oyJ6ZKu5LiO6K6+572u55qE5YGc6Z2g5L2N572u55qE5YGP56e76YeP77yM6buY6K6k77yaUGl4ZWwoMTAsIDIwKQ0KICAgICAgICAgIHpvb21Ub0FjY3VyYWN5OiB0cnVlLCAgIC8v5a6a5L2N5oiQ5Yqf5ZCO5piv5ZCm6Ieq5Yqo6LCD5pW05Zyw5Zu+6KeG6YeO5Yiw5a6a5L2N54K5DQogICAgICAgIH0pOw0KICAgICAgICBnZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24oc3RhdHVzLHJlc3VsdCl7DQogICAgICAgICAgaWYoc3RhdHVzPT0nY29tcGxldGUnKXsNCiAgICAgICAgICAgIHRoaXMubWFwLmFkZChyZXN1bHQucG9zaXRpb24ucG9zWzBdLHJlc3VsdC5wb3NpdGlvbi5wb3NbMV0pDQogICAgICAgICAgICBvbkNvbXBsZXRlKHJlc3VsdCkNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIG9uRXJyb3IocmVzdWx0KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICAgIC8v6Kej5p6Q5a6a5L2N57uT5p6cDQogICAgICBmdW5jdGlvbiBvbkNvbXBsZXRlKGRhdGEpIHsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpLmlubmVySFRNTD0n5a6a5L2N5oiQ5YqfJw0KICAgICAgICB2YXIgc3RyID0gW107DQogICAgICAgIHN0ci5wdXNoKCflrprkvY3nu5PmnpzvvJonICsgZGF0YS5wb3NpdGlvbik7DQogICAgICAgIHN0ci5wdXNoKCflrprkvY3nsbvliKvvvJonICsgZGF0YS5sb2NhdGlvbl90eXBlKTsNCiAgICAgICAgaWYoZGF0YS5hY2N1cmFjeSl7DQogICAgICAgICAgc3RyLnB1c2goJ+eyvuW6pu+8micgKyBkYXRhLmFjY3VyYWN5ICsgJyDnsbMnKTsNCiAgICAgICAgfS8v5aaC5Li6SVDnsr7noa7lrprkvY3nu5PmnpzliJnmsqHmnInnsr7luqbkv6Hmga8NCiAgICAgICAgc3RyLnB1c2goJ+aYr+WQpue7j+i/h+WBj+enu++8micgKyAoZGF0YS5pc0NvbnZlcnRlZCA/ICfmmK8nIDogJ+WQpicpKTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpLmlubmVySFRNTCA9IHN0ci5qb2luKCc8YnI+Jyk7DQogICAgICB9DQogICAgICAvL+ino+aekOWumuS9jemUmeivr+S/oeaBrw0KICAgICAgZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKS5pbm5lckhUTUw9J+WumuS9jeWksei0pScNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpLmlubmVySFRNTCA9ICflpLHotKXljp/lm6DmjpLmn6Xkv6Hmga86JytkYXRhLm1lc3NhZ2U7DQogICAgICB9DQogICAgfSwNCiAgfQ0KDQp9DQoNCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/system/map","sourcesContent":["<template>\r\n    <div id=\"container\"  style=\"width: 100%; height: calc(100vh - 100px)\">\r\n      <div class=\"info\">\r\n        <h4 id='status'></h4><hr>\r\n        <p id='result'></p><hr>\r\n      </div>\r\n      <el-button type=\"primary\" @click=\"this.map.getBounds()\" style=\"margin-bottom: 0;margin-right: 10px\" size=\"big\">回归原位</el-button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport AMap from \"AMap\"\r\nvar content = [\r\n  \"<div style='font-size: 14px; color: blue; width: 200px; height: 50px'>巨源科技</div>\"\r\n];\r\n\r\n//获取当前位置\r\nexport default {\r\n  data(){\r\n    return{\r\n      localtion:\"\",\r\n      map:\"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    // 创建地图实例\r\n    var map = new AMap.Map(\"container\", {\r\n      viewMode: '3D',   //默认使用2D模式\r\n      zoom: 12,\r\n      center: [104.07078346008302, 30.57424885192265],\r\n      resizeEnable: true\r\n    });\r\n\r\n    //设置图层\r\n    const traffic = new AMap.TileLayer.Traffic({\r\n      'autoRefresh': true,     //是否自动刷新，默认为false\r\n      'interval': 60,         //刷新间隔，默认180s\r\n    });\r\n    map.add(traffic); //通过add方法添加图层\r\n\r\n\r\n    // 创建一个Marker实例\r\n    var marker = new AMap.Marker({\r\n      position: new AMap.LngLat(104.03968056434633, 30.6691424358),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\r\n      title: '巨源科技',\r\n    });\r\n    // 将创建的点标记添加到已有的地图实例\r\n    map.add(marker);\r\nthis.getGeoLocaltion();\r\n  },\r\n  name: \"AMap\",\r\n\r\n\r\n  methods: {\r\n    getGeoLocaltion() {\r\n      AMap.plugin('AMap.Geolocation', function() {\r\n        var geolocation = new AMap.Geolocation({\r\n          enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n          timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n          buttonPosition:'RB',    //定位按钮的停靠位置\r\n          buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n          zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n        });\r\n        geolocation.getCurrentPosition(function(status,result){\r\n          if(status=='complete'){\r\n            this.map.add(result.position.pos[0],result.position.pos[1])\r\n            onComplete(result)\r\n          }else{\r\n            onError(result)\r\n          }\r\n        });\r\n      });\r\n      //解析定位结果\r\n      function onComplete(data) {\r\n        document.getElementById('status').innerHTML='定位成功'\r\n        var str = [];\r\n        str.push('定位结果：' + data.position);\r\n        str.push('定位类别：' + data.location_type);\r\n        if(data.accuracy){\r\n          str.push('精度：' + data.accuracy + ' 米');\r\n        }//如为IP精确定位结果则没有精度信息\r\n        str.push('是否经过偏移：' + (data.isConverted ? '是' : '否'));\r\n        document.getElementById('result').innerHTML = str.join('<br>');\r\n      }\r\n      //解析定位错误信息\r\n      function onError(data) {\r\n        document.getElementById('status').innerHTML='定位失败'\r\n        document.getElementById('result').innerHTML = '失败原因排查信息:'+data.message;\r\n      }\r\n    },\r\n  }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}