{"remainingRequest":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue?vue&type=style&index=0&id=011beb19&lang=css&","dependencies":[{"path":"G:\\wb-vision-server\\ruoyi-ui\\src\\views\\system\\map\\index.vue","mtime":1698509120775},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\wb-vision-server\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmFtYXAtaWNvbnsNCiAgb3ZlcmZsb3c6aW5oZXJpdCAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/map","sourcesContent":["<template>\r\n  <div id=\"container\" style=\"width: 100%; height: calc(100vh - 100px)\">\r\n    <div class=\"info\">\r\n      <button @click=\"\">回归原位</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AMap from \"AMap\"\r\n\r\nvar content = [\r\n  \"<div style='font-size: 14px; color: blue; width: 200px; height: 50px'>巨源科技</div>\"\r\n];\r\n\r\n//获取当前位置\r\nexport default {\r\n  data() {\r\n    return {\r\n      // localtion: \"\",\r\n    }\r\n  },\r\n  mounted() {\r\n    // 创建地图实例\r\n    let map = new AMap.Map(\"container\", {\r\n      viewMode: '3D',   //默认使用2D模式\r\n      zoom: 12,\r\n      center: [104.07078346008302, 30.57424885192265],\r\n      resizeEnable: true\r\n    });\r\n\r\n    //设置图层\r\n    const traffic = new AMap.TileLayer.Traffic({\r\n      'autoRefresh': true,     //是否自动刷新，默认为false\r\n      'interval': 60,         //刷新间隔，默认180s\r\n    });\r\n    map.add(traffic); //通过add方法添加图层\r\n\r\n\r\n    // 创建一个Marker实例\r\n    let marker = new AMap.Marker({\r\n      position: new AMap.LngLat(104.03968056434633, 30.6691424358),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\r\n      title: '巨源科技',\r\n    });\r\n    // 将创建的点标记添加到已有的地图实例\r\n    // map.add(marker);\r\n    // this.getGeoLocaltion();\r\n    AMap.plugin('AMap.Geolocation', function () {\r\n      let geolocation = new AMap.Geolocation({\r\n        enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n        timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n        buttonPosition: 'RB',    //定位按钮的停靠位置\r\n        buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n        zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n      });\r\n      geolocation.getCurrentPosition(function (status, result) {\r\n        if (status === 'complete') {\r\n          console.log(result.position.pos[0])\r\n          // map.add(result.position.pos[0],result.position.pos[1])\r\n          let marker1 = new AMap.Marker({\r\n            position: new AMap.LngLat(result.position.pos[0], result.position.pos[1]),\r\n            title: '巨源科技'\r\n          })\r\n          console.log(marker1)\r\n          map.add(marker1)\r\n          // console.log(result)\r\n        } else {\r\n          console.log(result)\r\n        }\r\n      });\r\n    });\r\n    // let marker = new AMap.Marker({\r\n    //   position: new AMap.LngLat(this.getGeoLocaltion().position.pos[0], this.getGeoLocaltion().position.pos[1]),\r\n    //   title: '巨源科技'\r\n    // })\r\n    // // console.log(marker)\r\n    // map.add(marker)\r\n    // map.add({result.position.pos[0], result.position.pos[1])\r\n\r\n  },\r\n  name: \"AMap\",\r\n  methods:\r\n    {}\r\n}\r\n\r\n</script>\r\n<style>\r\n.amap-icon{\r\n  overflow:inherit !important;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}